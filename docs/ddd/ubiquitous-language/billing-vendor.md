# 請求/支払先系

## 支払先（Vendor）

### 定義
- 請求の支払い対象となる、正規化された事業者・サービス

### 例
- Netflix
- AWS
- Google

### ルール
- 表記揺れは Vendor に集約する
- Vendor は請求より長寿命の概念

## 請求（Billing）

### 定義（確定）
- 金額・日付・支払先が確定した、支払いの事実

### 必須属性
- 請求ID
- ユーザーID
- 請求番号(BillingNumber)
- 支払先（Vendor）
- 金額（Money）
- 請求日
- 支払周期（単発 / 定期）
- 参照元（Email / ParsedEmail）
### 任意属性
- インボイス番号（適格請求書発行事業者登録番号）

### ルール
- 請求は必ず Vendor を持つ
- 請求は必ず参照元を持つ
- 請求は「支払われたかどうか」を表さない
- 金額 / 請求番号 / インボイス番号は Billing 集約に内包される値オブジェクト

## 支払周期（PaymentCycle）

### 定義
- 請求が単発か定期かを表す分類

### 説明
- 定期
- 単発

### 備考
- 会計的な意味付けは行わない

## 金額（Money）

### 定義
- 金額と通貨の組

### 形式
- 金額は小数第3位までを許容
- 通貨は ISO 4217 の3文字コード

## 請求番号（BillingNumber）

### 定義
- ベンダーが発行する請求書の識別子

### 説明
- 英数字や記号を含む場合がある
- 存在しない請求もある

## インボイス番号（InvoiceNumber）

### 定義
- 適格請求書発行事業者登録番号

### 形式
- "T" + 数字13桁
